/*! 
 * This is a jquery plugin for slider
 * Author:Shifone
 * Website:http://www.cuishifeng.cn
 * Version:1.0.0 
 * Date:2014-04-20 
 * License:http://www.apache.org/licenses/LICENSE-2.0 
 */
!function(a){var b=["rollIn","fadeIn","fadeInUp","fadeInDown","fadeInLeft","fadeInRight","fadeInRight","bounceIn","bounceInDown","bounceInUp","bounceInLeft","bounceInRight","rotateIn","rotateInDownLeft","rotateInDownRight","rotateInUpLeft","rotateInUpRight","fadeInLeftBig","fadeInRightBig","fadeInUpBig","fadeInDownBig","flipInX","flipInY","lightSpeedIn"],c=b.length;a.fn.slider=function(d){var e={className:"",sliderClassName:"slider_item",easeType:"random",pauseByHover:!1,width:960,height:420,delay:300,tolerance:.25,enableDrag:!0,showArrow:!0,showButton:!0,slideShow:!1,slideShowDelay:3e3};d&&a.extend(e,d);var f,g,h=-1,i=e.width,j=e.height,k=0,l=!1,m=!1,n=[],o,p=[],q=0,r=0,s,t,u;if(g=this,g.wrap('<div class="sliderCon '+e.className+'"/>'),f=g.parent(),"absolute"!==g.css("position")&&g.css("position","relative"),g.find("."+e.sliderClassName).each(function(b){a(this).hide(),q++,a(this).css({position:"absolute",width:i,height:j,overflow:"hidden",left:i*b}),p[b]=a(this)}),g.bind("touchstart",function(a){a.preventDefault();var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];return l||(l=!0,this.mouseX=b.pageX),t&&t.fadeIn(),u&&u.fadeIn(),!1}),g.bind("touchmove",function(a){a.preventDefault();var b=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];return l&&(k=b.pageX-this.mouseX,g.css("left",-h*i+k),e.slideShow&&z()),!1}),g.bind("touchend",function(a){var b=h;a.preventDefault();var c=a.originalEvent.touches[0]||a.originalEvent.changedTouches[0];if(l=!1,!k)return!1;var d=parseInt(e.width),f=d/2;return-k>f-d*e.tolerance?(b++,b=b>=q?q-1:b,y(b)):k>f-d*e.tolerance?(b--,b=0>b?0:b,y(b)):(y(b),e.slideShow&&A()),k=0,t&&t.delay(400).fadeOut(),u&&u.delay(400).fadeOut(),!1}),e.enableDrag&&(g.mousedown(function(a){return l||(l=!0,this.mouseX=a.pageX),!1}),g.mousemove(function(a){return l&&(k=a.pageX-this.mouseX,g.css("left",-h*i+k),e.slideShow&&z()),!1}),g.mouseup(function(a){l=!1;var b=h;if(!k)return!1;var c=parseInt(e.width),d=c/2;return-k>d-c*e.tolerance?(b++,b=b>=q?q-1:b,y(b)):k>d-c*e.tolerance?(b--,b=0>b?0:b,y(b)):(y(b),e.slideShow&&A()),k=0,!1}),g.mouseleave(function(b){a(this).mouseup()})),f.mouseover(function(a){t&&t.fadeIn(),u&&u.fadeIn(),e.pauseByHover&&z()}),f.mouseleave(function(a){t&&t.fadeOut(),u&&u.fadeOut(),e.pauseByHover&&e.slideShow&&A()}),e.showButton){s=a('<div class="buttonArea"><div class="buttonCon"></div></div>'),f.append(s),t=s.find(".buttonCon");for(var v=0;q>v;v++)t.append('<a class="theButton" rel="'+v+'">'+(v+1)+"</a>").css("cursor","pointer");-1===h?a(".buttonCon a:first",s).addClass("active"):a(".buttonCon a:eq("+h+")",s).addClass("active"),a(".buttonCon a",s).bind("click",function(b){if(a(this).hasClass("active"))return!1;var c=a(this).attr("rel");y(c)})}if(e.showArrow){u=a('<div class="arrowButton"><div class="prevArrow"></div><div class="nextArrow"></div></div>'),f.append(u);var w=a(".nextArrow",u).bind("click",function(a){B()}),x=a(".prevArrow",u).bind("click",function(a){C()})}t&&t.hide(),u&&u.hide(),y(0),e.slideShow&&(slideShowInt=setInterval(function(){B()},e.slideShowDelay),g.data("interval",slideShowInt));function y(d){e.slideShow&&z(),g.stop(!0,!0).animate({left:-d*i},e.delay,function(){d!=h&&(r=h,p[r]&&(p[r].fadeOut(),a(".buttonArea a:eq("+r+")",f).removeClass("active")),a(".buttonArea a:eq("+d+")",f).addClass("active"),"random"!=e.easeType.toLowerCase()?p[d].show().children().each(function(b){a(this).hasClass(e.easeType)&&(a(this).removeClass(e.easeType),a(this).hide());var c=b;a(this).show().addClass("animate"+c+" "+e.easeType)}):(o=b[Math.floor(Math.random()*c)],n[d]=o,p[r]&&p[r].children().each(function(b){a(this).hasClass(n[r])&&(a(this).removeClass(n[r]),a(this).hide())}),p[d].show().children().each(function(b){var c=b;a(this).show().addClass("animate"+c+" "+o)})),g.delay(200*p[d].children().length).queue(function(){e.slideShow&&A()}),u&&u.css("cursor","pointer"),h=d)})}function z(){clearInterval(g.data("interval"))}function A(){clearInterval(g.data("interval")),slideShowInt=setInterval(function(){B()},e.slideShowDelay),g.data("interval",slideShowInt)}function B(){var a=h;a++,a=a>=q?0:a,y(a)}function C(){var a=h;a--,a=0>a?q-1:a,y(a)}return this}}(jQuery);